Как видим этот шаблон состоит из двух форм - ложной формы для роботов и форма для людей. В форме для людей находится  один шаблон:
$confirmid - строка с набором цифр и букв для подтверждения комментария. Для каждого комментария генерируется случайно своя собственная строка, эту комбинацию невозможно угадать и она становится известной только после заполнения формы отправки комментария. Такая простая защита отсеивает спам и позволяет людям спокойно отправлять комментарии.

Перейдем к главному - список комментариев и сам шаблон комментария. Есть два списка комментариев: одобренных и задержанных. Главным, безусловно, является список одобренных, а второстепенным является список задержанных комментариев. Шаблон списка включает в себя следующие шаблоны:
$count - шаблон количества комментариев на запись
$comment - шаблон комментария

Начнем объявлять шаблоны с шаблона количества:
