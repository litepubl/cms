(function(a,h,k){a.BootstrapDialog=Class.extend({dialog:!1,footer:!1,style:!1,options:!1,tml:'<div class="modal fade" id="dialog-%%id%%" tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="modal-title-%%id%%"><div class="modal-dialog center-block"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="%%close%%"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="modal-title-%%id%%">%%title%%</h4></div><div class="modal-body">%%body%%</div><div class="modal-footer">%%buttons%%</div></div></div></div>',
button:'<button type="button" class="btn btn-default" id="button-%%id%%-%%index%%" data-index="%%index%%">%%title%%</button>',init:function(){var b=a.proxy(this.close,this);a.closedialog=b;a.litedialog=a.proxy(this.open,this);this.default_options={title:"",html:"",width:!1,height:!1,open:a.noop,close:a.noop,buttons:[{title:"Ok",click:b}]}},close:function(b){if(!this.dialog)return!1;if(a.isFunction(b))this.dialog.on("hidden.bs.modal",function(){setTimeout(function(){b()},20)});this.dialog.modal("hide")},
doclose:function(){if(!this.dialog)return!1;a.isFunction(this.options.close)&&this.options.close(this.dialog);this.footer=this.options=!1;this.dialog.remove();this.dialog=!1;this.style&&(this.style.remove(),this.style=!1)},open:function(b){if(this.dialog)return alert("Dialog already opened");var e=litepubl.guid++;this.options=a.extend({},this.default_options,b);b=this.options.buttons;for(var c="",d=0,f=b.length;d<f;d++)c+=a.simpletml(this.button,{index:d,id:e,title:b[d].title});1==b.length&&(c=c.replace(/%%btn-default%%/g,
"btn-primary"));e=a.simpletml(this.tml,{id:e,title:this.options.title,close:lang.dialog.close,body:this.options.html,buttons:c});c="";this.options.width&&(c=c+"width:"+(this.options.width+32)+"px;");this.options.height&&(c=c+"height:"+this.options.height+"px;");c&&(this.style=a('<style type="text/css">.modal-dialog{'+c+"}</style>").appendTo("head:first"));this.dialog=a(e).appendTo("body");this.footer=a(".modal-footer:first",this.dialog);d=0;for(f=b.length;d<f;d++)this.getbutton(d).on("click.dialog",
b[d].click);var g=this;this.dialog.on("shown.bs.modal",function(){a.isFunction(g.options.open)&&g.options.open(g.dialog);"tooltip"in a.fn&&a(".tooltip-toggle",this).tooltip({container:"body",placement:"auto top"})}).modal().on("hidden.bs.modal",a.proxy(this.doclose,this));return this.dialog},getbutton:function(b){return this.footer?a("button[data-index="+b+"]",this.footer):!1}});a.ready2(function(){"modal"in a.fn&&(a.bootstrapDialog=new a.BootstrapDialog)})})(jQuery,window,document);
