(function(b,d,f){litepubl.Calendar=Class.extend({holderclass:".calendar",rangeclass:".date-range",ui_datepicker:!1,dialogopened:!1,init:function(){this.on(this.holderclass);this.onrange(this.rangeclass)},on:function(a){var c=this;b(a).each(function(){var a=b("input",this).eq(0).addClass("date-edit");c.add(b("button:first",this),a)})},onrange:function(a){var c=this;b(a).each(function(){var a=b("input",this),e=b("button",this);c.add(e.eq(0),a.eq(0).addClass("date-edit"));c.add(e.eq(1),a.eq(1).addClass("date-edit"))})},
add:function(a,c){var d=this;b(a).data("date",c).off("click.calendar").on("click.calendar",function(){d.open(b(this).data("date"));return!1})},load:function(a){if(this.ui_datepicker)return this.ui_datepicker.done(a);var c=this;this.ui_datepicker=b.load_script(ltoptions.files+"/js/jquery/ui/datepicker.min.js",function(){if("en"==ltoptions.lang)return a();c.ui_datepicker=b.load_script(ltoptions.files+"/js/jquery/ui/datepicker-"+ltoptions.lang+".min.js",a)})},datepicker:function(a,c){b(a).datepicker({altField:c,
altFormat:"dd.mm.yy",dateFormat:"dd.mm.yy",defaultDate:c.val(),changeYear:!0})},open:function(a){if(!this.dialogopened){this.dialogopened=!0;var c=this;this.load(function(){b.litedialog({title:lang.admin.calendar,html:'<div  class="datepicker-container"><div id="popup-calendar"></div></div>',width:300,close:function(){c.dialogopened=!1},open:function(){c.datepicker("#popup-calendar",a)},buttons:[{title:lang.dialog.close,click:b.closedialog}]})})}}});b(d).ready(function(){litepubl.calendar=new litepubl.Calendar})})(jQuery,
document,window);
