(function(e,f,g){f.FlashUploader=Class.extend({owner:!1,swf:!1,onsettings:e.noop,html:'<div id="flash-uploader"><span id="uploadbutton"></span></div>',idbutton:"uploadbutton",init:function(b){this.owner=b;var a=void 0==ltoptions.uploadurl?ltoptions.url:ltoptions.uploadurl;b.holder.append(this.html);a={flash_url:a+"/js/swfupload/swfupload.swf",upload_url:a+"/admin/jsonserver.php",post_params:b.postdata,file_size_limit:b.maxsize+" MB",file_types:b.types,file_types_description:"All Files",file_upload_limit:0,
file_queue_limit:0,button_placeholder_id:this.idbutton,file_dialog_complete_handler:function(a,c){b.setpercent(0);this.setUploadURL(b.geturl());b.before(this);this.startUpload()},upload_start_handler:function(a){return!0},upload_progress_handler:function(a,c,d){b.setprogress(c,d)},upload_error_handler:function(a,c,d){b.error(d)},upload_success_handler:function(a,c){try{b.uploaded(c)}catch(d){alert("error "+d.message)}},upload_complete_handler:function(a){try{0===this.getStats().files_queued?b.complete():
this.startUpload()}catch(c){this.debug(c)}}};"en"==ltoptions.lang?(a.button_image_url=ltoptions.files+"/js/swfupload/images/XPButtonUploadText_61x22.png",a.button_width=61,a.button_height=22):(a.button_text='<span class="upload_button">'+lang.posteditor.upload+"</span>",a.button_image_url=ltoptions.files+"/js/swfupload/images/XPButtonNoText_160x22.png",a.button_width=160,a.button_height=22,a.button_text_style=".upload_button { font-family: Helvetica, Arial, sans-serif; font-size: 14pt; text-align: center; }",
a.button_text_top_padding=1,a.button_text_left_padding=5);try{this.onsettings(a),this.swf=new SWFUpload(a)}catch(e){alert("Error create swfupload "+e.message)}},addparam:function(b,a){this.swf.addPostParam(b,a)}})})(jQuery,litepubl,window);
