(function(b,d,e){e.litepubl.Commentquote=Class.extend({init:function(a){var f=this,c=ltoptions.theme.comments;c.comments=b(c.comments);c.comments.off("click.quotecomment").on("click.quotecomment","."+c.replyclass+", ."+c.quoteclass,function(){var a=b(this);f[a.hasClass(c.replyclass)?"reply":"quote"](a.attr("data-idcomment"),a.attr("data-authorname"));return!1})},getquoted:function(a,b){return""==b?lang.comment.to+" [b]"+a+"[/b]: ":"[b]"+a+"[/b] "+lang.comment.says+":\n[quote]"+b+"[/quote]\n"},quote:function(a,
f){var c=e.getSelection?e.getSelection():d.getSelection?d.getSelection():d.selection?d.selection.createRange().text:"";""==c&&(c=b("#commentcontent-"+a).text());var g=ltoptions.theme.comments.editor;g.val(g.val()+this.getquoted(f,c)).focus()},reply:function(a,b){var c=ltoptions.theme.comments.editor;c.val(c.val()+this.getquoted(b,""))}});b(d).ready(function(){var a=ltoptions.theme;a.comments=b.extend({comments:"#commentlist",hold:"#holdcommentlist",comment:"#comment-",content:"#commentcontent-",form:"#commentform",
editor:"#comment",buttons:".moderationbuttons",replyclass:"replycomment",quoteclass:"quotecomment",button:'<button type="button" class="button" data-moder="%%name%%"><span>%%title%%</span></button>',confirmcomment:!0,comuser:!1,canedit:!1,candelete:!1,ismoder:!1},a.comments);a=a.comments;a.comments=b(a.comments);a.holdcomments=b(a.hold);a.form=b(a.form);a.form.length&&(a.editor=a.form.find(a.editor),litepubl.commentquote=new litepubl.Commentquote)})})(jQuery,document,window);
