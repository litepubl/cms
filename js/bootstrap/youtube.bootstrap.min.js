(function(c){c.YoutubeBootstrap=Class.extend({vid:"",width:500,height:344,tml:'<iframe src=https://www.youtube.com/embed/%%vid%%?autoplay=1&html5=1" width="%%width%%" height="%%height%%" border="0"></iframe>',dialog:!1,init:function(){var a=this;c("a[href^='http://youtu.be/'], a[href^='http://www.youtube.com/watch?v='], a[href^='https://youtu.be/'], a[href^='https://www.youtube.com/watch?v=']").on("click.youtube",function(){a.open(a.getvid(c(this).attr("href")));return!1})},open:function(a){this.vid=
a;this.dialog||(this.dialog=new c.Simplerdialog,this.dialog.removeOnclose=!1);var b=this;this.dialog.open({width:this.width,height:this.height,html:c.simpletml(this.tml,{vid:a,width:this.width,height:this.height}),open:function(a){a.removeClass("in")},close:function(a){a.find("iframe:first").attr("src","");setTimeout(function(){b.dialog.remove()},100)}})},getvid:function(a){var b=get_get("v",a);if(b)return b;b=a.split("youtu.be/").pop();a=b.indexOf("?");0<a&&(b=b.substring(0,a));a=b.indexOf("&");
0<a&&(b=b.substring(0,a));return b}});c.ready2(function(){"modal"in c.fn&&(c.youtubeBootstrap=new c.YoutubeBootstrap)})})(jQuery);
