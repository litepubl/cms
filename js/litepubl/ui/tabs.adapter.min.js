/*
  2010 - 2016 Vladimir Yushko http://litepublisher.com/ http://litepublisher.ru/
 @license   https://github.com/litepubl/cms/blob/master/LICENSE.txt MIT
 @link https://github.com/litepubl\cms
 @version 6.15
*/
(function(e,f,c){c.ui=c.ui||{};c.ui.Tabs=Class.extend({namespace:".litepubl.tabs",uispace:".litepubl.uitabs",init:function(){this.tabs(e(e(".admintabs").toArray().reverse()))},tabs:function(a,b){a.tabs({hide:!0,show:!0,beforeLoad:this.beforeLoad});this.proxy(a);if(b)this.on(a,b);return a},proxy:function(a){var b=this;a.on("tabsbeforeactivate"+this.uispace,function(d,c){a.trigger(e.Event("before"+b.namespace,{target:d.target,relatedTarget:d.relatedTarget,panel:c.newPanel}))}).on("tabsactivate"+this.uispace,
function(d,c){a.trigger(e.Event("activated"+b.namespace,{target:d.target,relatedTarget:d.relatedTarget,panel:c.newPanel}))}).on("tabsload"+this.uispace,function(d,c){a.trigger(e.Event("loaded"+b.namespace,{target:d.target,relatedTarget:d.relatedTarget,panel:c.panel}))})},on:function(a,b){if(a&&b)for(var c in b)a.on(c+this.namespace,b[c])},off:function(a){a.off(this.namespace).off(this.uispace)},beforeLoad:function(a,b){b.tab.data("loaded")?a.preventDefault():(panel.closest(".admintabs").trigger(e.Event("beforeLoad"+
this.namespace,{target:a.target,relatedTarget:a.relatedTarget,panel:b.panel})),b.jqXHR.success(function(){b.tab.data("loaded",!0)}))},setenabled:function(a,b){a.closest(".admintabs").tabs(b?"enable":"disable",a.parent().index())},gettml:function(){return c.tml.ui.tabs}});e(f).ready(function(){c.tabs=new c.ui.Tabs})})(jQuery,document,litepubl);
