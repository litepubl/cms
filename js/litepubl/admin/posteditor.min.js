(function(c,b){b.Posteditor=Class.extend({tabs:!1,init:function(){var a=c("#tabs");a.length&&(this.init_tabs(a),this.ontitle(a.closest("form")))},init_tabs:function(a){this.tabs=a;var d=this;b.tabs.on(a,{before:function(a){d.init_tab(a.panel)}})},init_tab:function(a){if(!a.data("init.litepubl"))switch(a.data("init.litepubl",!0),a.attr("data-id")){case "tags":var d=this;a.on("click.tag","a",function(){d.addtag(c(this).text());return!1});break;case "posted":a.extractComment();b.calendar.on(a);break;
case "seo":a.extractComment()}},addtag:function(a){var d=c("#text-tags").val();if(""==d)c("#text-tags").val(a);else{for(var b=d.split(/\s*,\s*/),e=b.length;0<=e;e--)if(a==b[e])return!1;c("#text-tags").val(d+", "+a)}},ontitle:function(a){a.on("submit.posttitle",function(a){var b=c("input[name='title']",this);c.trim(b.val())||(a.stopImmediatePropagation(),a.preventDefault(),c.messagebox(lang.dialog.error,lang.posteditor.emptytitle,function(){b.focus()}))})}});c(document).ready(function(){b.posteditor=
new b.Posteditor})})(jQuery,litepubl);
