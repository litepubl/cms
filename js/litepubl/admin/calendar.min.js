/*
  2010 - 2016 Vladimir Yushko http://litepublisher.com/ http://litepublisher.ru/
 @license   https://github.com/litepubl/cms/blob/master/LICENSE.txt MIT
 @link https://github.com/litepubl\cms
 @version 6.15
*/
(function(a,e,f){litepubl.Calendar=Class.extend({holderclass:".calendar",rangeclass:".date-range",dialogopened:!1,width:300,tml:'<div  class="datepicker-container"><div></div></div>',init:function(){this.on(this.holderclass);this.onrange(this.rangeclass)},on:function(c){var b=this;a(c).each(function(){var d=a("input",this).eq(0).addClass("date-edit");b.add(a("button:first",this),d)})},onrange:function(c){var b=this;a(c).each(function(){var d=a("input",this),c=a("button",this);b.add(c.eq(0),d.eq(0).addClass("date-edit"));
b.add(c.eq(1),d.eq(1).addClass("date-edit"))})},add:function(c,b){var d=this;a(c).data("date",b).off("click.calendar").on("click.calendar",function(){d.open(a(this).data("date"));return!1})},open:function(c){if(this.dialogopened)return!1;this.dialogopened=!0;var b=this;litepubl.datepicker.ready(function(){a.litedialog({title:lang.admin.calendar,html:b.tml,width:b.width,close:function(){b.dialogopened=!1},open:function(a){a=b.getcontainer(a);litepubl.datepicker.datepicker(a,c)},buttons:[{title:lang.dialog.close,
click:a.closedialog}]})})},getcontainer:function(a){return a.find(".datepicker-container").children()}});a(e).ready(function(){litepubl.calendar=new litepubl.Calendar})})(jQuery,document,window);
