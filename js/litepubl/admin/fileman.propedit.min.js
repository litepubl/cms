(function(b,c,g){c.Filemanprops=Class.extend({item:!1,holder:!1,init:function(a,d,f){this.item=a;this.onclose=d||b.noop;this.onset=f||b.noop;var e=this;d=lang.posteditor;b.litedialog({title:lang.posteditor.property,html:c.tml.getedit(d.title,"fileprop-title",a.title)+c.tml.getedit(d.description,"fileprop-description",a.description)+c.tml.getedit(d.keywords,"fileprop-keywords",a.keywords),open:function(a){e.holder=a;b("input[name='fileprop-title']",a).focus()},close:function(){e.holder=!1;e.onclose()},
buttons:[{title:"Ok",click:function(){var a=e.holder,a={title:b.trim(b("input[name='fileprop-title']",a).val()),description:b.trim(b("input[name='fileprop-description']",a).val()),keywords:b.trim(b("input[name='fileprop-keywords']",a).val())};e.setprops(a);b.closedialog()}},b.get_cancel_button()]})},setprops:function(a){b.extend(this.item,a);a.idfile=this.item.id;return b.jsonrpc({method:"files_setprops",params:a,callback:this.onset,error:function(a,c){b.errorbox(a)}})}})})(jQuery,litepubl,window);
