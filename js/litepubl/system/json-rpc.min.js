(function(b){var g=b.jsonrpcSettings={guid:b.now(),url:"",onargs:b.noop};b.jsonrpc=function(a){a=b.extend({url:g.url,type:"post",method:"",params:{},slave:!1,callback:!1,error:!1,cache:!1},a);g.onargs(a);var f=a.params;a.slave&&(f.slave={method:a.slave.method,params:a.slave.params});var e={type:a.type,url:a.url,cache:a.cache,dataType:"json",success:function(c){if("object"===typeof c)if("result"in c){if(b.isFunction(a.callback)&&a.callback(c.result),a.slave&&b.hasprop(c.result,"slave")){var d=a.slave;
c=c.result.slave;b.hasprop(c,"error")?b.hasprop(d,"error")&&b.isFunction(d.error)&&d.error(c.error.message,c.error.code):b.hasprop(d,"callback")&&b.isFunction(d.callback)&&d.callback(c)}}else"error"in c&&b.isFunction(a.error)&&a.error(c.error.message,c.error.code)}};"post"==a.type?(a.cache||(e.url=e.url+"?_="+g.guid++),e.data=b.toJSON({jsonrpc:"2.0",method:a.method,params:f,id:g.guid++})):(e.type="get",f.method=a.method,e.data=f);return b.ajax(e).fail(function(c,d,f){b.isFunction(a.error)&&a.error(c.responseText,
c.status)})};b.hasprop=function(a,b){return"object"===typeof a&&b in a}})(jQuery);
