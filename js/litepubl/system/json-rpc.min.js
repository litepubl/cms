(function(b){var f=b.jsonrpcSettings={guid:b.now(),url:"",onargs:b.noop,error:!1};b.jsonrpc=function(a){a=b.extend({url:f.url,type:"post",method:"",params:{},slave:!1,callback:!1,error:f.error,cache:!1},a);f.onargs(a);var g=a.params;a.slave&&(g.slave={method:a.slave.method,params:a.slave.params});var e={type:a.type,url:a.url,cache:a.cache,dataType:"json",success:function(c){if("object"===typeof c)if("result"in c){if(b.isFunction(a.callback)&&a.callback(c.result),a.slave&&b.hasprop(c.result,"slave")){var d=
a.slave;c=c.result.slave;b.hasprop(c,"error")?b.hasprop(d,"error")&&b.isFunction(d.error)&&d.error(c.error.message,c.error.code):b.hasprop(d,"callback")&&b.isFunction(d.callback)&&d.callback(c)}}else"error"in c&&b.isFunction(a.error)&&a.error(c.error.message,c.error.code)}};"post"==a.type?(a.cache||(e.url=e.url+"?_="+f.guid++),e.data=b.toJSON({jsonrpc:"2.0",method:a.method,params:g,id:f.guid++})):(e.type="get",g.method=a.method,e.data=g);return b.ajax(e).fail(function(c,d,g){b.isFunction(a.error)&&
a.error(c.responseText,c.status)})};b.hasprop=function(a,b){return"object"===typeof a&&b in a}})(jQuery);
