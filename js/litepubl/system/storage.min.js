(function(e,f,c){litepubl.Storage=Class.extend({local:!1,session:!1,global:!1,link:!1,png:!1,enabled:!1,init:function(){if("localStorage"in c)try{c.localStorage.setItem("litepubl_test","testvalue"),c.localStorage.removeItem("litepubl_test"),this.local=!0}catch(d){}if("sessionStorage"in c)try{c.sessionStorage.setItem("litepubl_test","testvalue"),c.sessionStorage.removeItem("litepubl_test"),this.session=!0}catch(d){}if("globalStorage"in c)try{if(c.globalStorage){var b=c.globalStorage["localhost"==c.location.hostname?
"localhost.localdomain":c.location.hostname];b.setItem("litepubl_test","testvalue");b.removeItem("litepubl_test");this.global=b}}catch(d){}try{var a=f.createElement("link");a.addBehavior&&(a.addBehavior("#default#userData"),f.getElementsByTagName("head")[0].appendChild(a),a.load(),this.link=a)}catch(d){}try{f.createElement("canvas").getContext&&(this.png=!0)}catch(d){}this.enabled=this.local||this.session||!!this.global||!!this.link},get:function(b){var a=!1;return this.local&&(a=c.localStorage.getItem(b))||
this.session&&(a=c.sessionStorage.getItem(b))||this.global&&(a=this.global.getItem(b))||this.link&&(this.link.load(),a=this.link.getAttribute(b))?a:!1},set:function(b,a,d){if(d){if(this.local)c.localStorage.setItem(b,a);else if(this.session)c.sessionStorage.setItem(b,a);else if(this.global)this.global.setItem(b,a);else if(this.link)this.link.setAttribute(b,a),this.link.save();else return!1;return!0}this.local&&c.localStorage.setItem(b,a);this.session&&c.sessionStorage.setItem(b,a);this.global&&this.global.setItem(b,
a);this.link&&(this.link.setAttribute(b,a),this.link.save());return this.enabled},remove:function(b){this.local&&c.localStorage.removeItem(name);this.session&&c.sessionStorage.removeItem(name);this.global&&this.global.removeItem(name);this.link&&(this.link.removeAttribute(name),this.link.save());return this.enabled}});litepubl.DataStorage=Class.extend({init:function(){litepubl.getstorage()},get:function(b){var a=litepubl.storage.get(b);a||(a=e.cookie(b));return a?e.parseJSON(a):!1},set:function(b,
a){var c=e.toJSON(a);litepubl.storage.set(b,c,!0)||e.cookie(b,c,{path:"/",expires:3650})},remove:function(b){litepubl.storage.remove(b)||e.cookie(b,!1)}});litepubl.getstorage=function(){return"storage"in litepubl?litepubl.storage:litepubl.storage=new litepubl.Storage};litepubl.getdatastorage=function(){return"datastorage"in litepubl?litepubl.datastorage:litepubl.datastorage=new litepubl.DataStorage}})(jQuery,document,window);
