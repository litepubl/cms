(function(e,d,f){f.litepubl.Commentquote=Class.extend({init:function(b){var c=this,a=ltoptions.theme.comments;a.comments=e(a.comments);a.comments.off("click.quotecomment").on("click.quotecomment","."+a.replyclass+", ."+a.quoteclass,function(){var b=e(this);c[b.hasClass(a.replyclass)?"reply":"quote"](b.attr("data-idcomment"),b.attr("data-authorname"));return!1})},getquoted:function(b,c){return""==c?lang.comment.to+" [b]"+b+"[/b]: ":"[b]"+b+"[/b] "+lang.comment.says+":\n[quote]"+c+"[/quote]\n"},quote:function(b,
c){var a=f.getSelection?f.getSelection():d.getSelection?d.getSelection():d.selection?d.selection.createRange().text:"";""==a&&(a=e("#commentcontent-"+b).text());var g=ltoptions.theme.comments.editor;g.val(g.val()+this.getquoted(c,a)).focus()},reply:function(b,c){var a=ltoptions.theme.comments.editor;a.val(a.val()+this.getquoted(c,""))}});e(d).ready(function(){ltoptions.theme.comments.form.length&&(litepubl.commentquote=new litepubl.Commentquote)})})(jQuery,document,window);
