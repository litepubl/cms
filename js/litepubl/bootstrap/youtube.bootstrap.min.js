/*
  2010 - 2016 Vladimir Yushko http://litepublisher.com/ http://litepublisher.ru/
 @license   https://github.com/litepubl/cms/blob/master/LICENSE.txt MIT
 @link https://github.com/litepubl\cms
 @version 6.15
*/
(function(c){c.YoutubeBootstrap=Class.extend({vid:"",size:90,tml:'<iframe src="https://www.youtube.com/embed/%%vid%%?autoplay=1" width="%%width%%" height="%%height%%" frameborder="0" type="text/html" ></iframe>',dialog:!1,init:function(){var a=this;c("a[href^='http://youtu.be/'], a[href^='http://www.youtube.com/watch?v='], a[href^='https://youtu.be/'], a[href^='https://www.youtube.com/watch?v=']").on("click.youtube",function(){a.open(a.getvid(c(this).attr("href")));return!1})},open:function(a){this.vid=
a;this.dialog||(this.dialog=new c.Simplerdialog,this.dialog.removeOnclose=!1);var b=Math.round(c(window).width()*this.size/100),d=Math.round(c(window).height()*this.size/100),e=this;this.dialog.open({width:b,height:d,html:c.simpletml(this.tml,{vid:a,width:b,height:d}),open:function(a){},close:function(a){a.find("iframe:first").attr("src","");setTimeout(function(){e.dialog.remove()},100)}})},getvid:function(a){var b=get_get("v",a);if(b)return b;b=a.split("youtu.be/").pop();a=b.indexOf("?");0<a&&(b=
b.substring(0,a));a=b.indexOf("&");0<a&&(b=b.substring(0,a));return b}});c.ready2(function(){"modal"in c.fn&&(c.youtubeBootstrap=new c.YoutubeBootstrap)})})(jQuery);
