(function(d,h,k,f){f.BootstrapWidgets=Class.extend({toggleclass:"",init:function(a){a=d.extend({button:".widget-button, .widget-title",inline:".widget-inline",ajax:".widget-ajax",toggle:"fa-expand fa-collapse"},a);var c=this;c.toggleclass=a.toggle;var b=a.inline+","+a.ajax;d(a.button).each(function(){var a=d(this),g=a.find(b);if(g.length)return c.init_button(a,g);switch(a.data("model")){case "dropdown":a.dropdown();break;case "collapse":a.collapse();break;case "slide":a.on("click.widget",function(){d(this).next().slideToggle();
return!1})}})},init_button:function(a,c){a.data("span",c);if("wrap-collapse"==a.data("model")){var b="#widget-content-"+c.data("widget").id;d(b).addClass("panel-collapse collapse");c.wrap('<a class="dashed" href="'+b+'" title="'+lang.widgetlang.clickme+'"></a>');c.parent().tooltip({container:"body",placement:"auto top"})}var e=this;a.one("click.widget",function(){var a=d(this);switch(a.data("span").data("widget").type){case "inline":e.addinline(a);break;case "ajax":e.load(a)}return!1})},load:function(a){var c=
a.data("span").data("widget"),b=this;d.get(ltoptions.url+"/getwidget.htm",{id:c.id,sidebar:c.sidebar,themename:ltoptions.theme.name,idurl:ltoptions.idurl},function(d){c.html=d;c.comment=a.findcomment(c.id);b.add(a)},"html")},addinline:function(a){var c=a.data("span").data("widget");c.comment=a.findcomment(!1);if(!c.comment)return alert("Widget content not found");c.html=c.comment.nodeValue;this.add(a)},add:function(a){var c=a.data("span"),b=c.data("widget");switch(a.data("model")){case "dropdown":b.body=
d(b.comment).replaceComment(b.html);b.comment=!1;a.dropdown("toggle");break;case "wrap-collapse":b.body=d(b.comment).replaceComment(b.html);b.comment=!1;d("#widget-content-"+b.id).addClass("in");a.find("a").attr("data-toggle","collapse").attr("data-parent","#"+a.closest(".panel-group").attr("id")).attr("data-target","#widget-content-"+b.id);break;case "slide":b.body=d(b.comment).replaceComment(b.html);b.comment=!1;var e=this;e.toggleicon(c);a.data("body",b.body).on("click.widget",function(){var a=
d(this);e.toggleicon(a.data("span"));a.data("body").slideToggle();return!1});break;case "popover":b.comment&&d(b.comment).remove(),b.comment=!1,c=a.data("span"),this.toggleicon(c),a.popover({title:c.text(),html:b.html,container:"body",placement:a.data("placement"),trigger:"manual"}),e=this,a.on("click.widget",function(){var a=d(this);a.popover("toggle");e.toggleicon(a.data("span"));return!1})}},toggleicon:function(a){a.find("i").toggleClass(this.toggleclass)}});d.ready2(function(){"dropdown"in d.fn&&
(f.widgets=new f.BootstrapWidgets)})})(jQuery,window,document,litepubl);
