(function(c,h,k,e){e.BootstrapWidgets=Class.extend({tml_wrap_collapse:'<a class="dashed tooltip-toggle" href="%%idcontent%%" title="%%lang.clickme%%" aria-expanded="false"></a>',init:function(b){b=c.extend({button:".widget-button, .widget-title",inline:".widget-inline",ajax:".widget-ajax"},b);var a=this,d=b.inline+","+b.ajax;c(b.button).each(function(){var b=c(this),g=b.find(d);if(g.length)return a.init_button(b,g);switch(b.attr("data-model")){case "dropdown":b.dropdown();break;case "collapse":b.collapse();
break;case "slide":b.on("click.widget",function(){c(this).next().slideToggle();return!1})}})},init_button:function(b,a){b.data("span",a);if("widget-collapse"==b.data("model")){var d="#widget-content-"+a.data("widget").id;c(d).addClass("panel-collapse");a.wrap(c.parsetml(this.tml_wrap_collapse,{idwidget:a.data("widget").id,idcontent:d,lang:lang.widgetlang}))}var f=this;b.one("click.widget",function(){var a=c(this);switch(a.data("span").data("widget").type){case "inline":f.addinline(a);break;case "ajax":f.load(a)}return!1})},
load:function(b){var a=b.data("span").data("widget"),d=this;c.get(ltoptions.url+"/getwidget.htm",{id:a.id,sidebar:a.sidebar,themename:ltoptions.theme.name,idurl:ltoptions.idurl},function(c){a.html=c;a.comment=b.findcomment(a.id);d.add(b)},"html")},addinline:function(b){var a=b.data("span").data("widget");a.comment=b.findcomment(!1);if(!a.comment)return alert("Widget content not found");a.html=a.comment.nodeValue;this.add(b)},add:function(b){var a=b.data("span").data("widget");switch(b.attr("data-model")){case "dropdown":a.body=
c(a.comment).replaceComment(a.html);a.comment=!1;b.dropdown("toggle");break;case "widget-collapse":a.body=c(a.comment).replaceComment(a.html),a.comment=!1,a="widget-content-"+a.id,c("#"+a).addClass("in").attr("aria-expanded","true"),b.find("a").removeClass("collapsed").attr("data-toggle","collapse").attr("data-parent","#"+b.closest(".panel-group").attr("id")).attr("data-target","#"+a).attr("aria-controls",a).attr("aria-expanded","true").collapse().click(!1)}}});c.ready2(function(){"dropdown"in c.fn&&
(e.widgets=new e.BootstrapWidgets)})})(jQuery,window,document,litepubl);
