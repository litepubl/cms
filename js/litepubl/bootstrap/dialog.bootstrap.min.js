(function(b,h,k){b.BootstrapDialog=Class.extend({dialog:!1,footer:!1,style:!1,options:!1,padwidth:32,padheight:0,removeOnclose:!0,tml:'<div class="modal fade" id="dialog-%%id%%" tabindex="-1" role="dialog" aria-labelledby="modal-title-%%id%%"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="%%close%%"><span aria-hidden="true">&times;</span><span class="sr-only">%%close%%</span></button><h4 class="modal-title" id="modal-title-%%id%%">%%title%%</h4></div><div class="modal-body">%%body%%</div><div class="modal-footer">%%buttons%%</div></div></div></div>',
button:'<button type="button" class="btn btn-default" id="button-%%id%%-%%index%%" data-index="%%index%%">%%icon%%%%title%%</button>',init:function(){var a=b.proxy(this.close,this);b.closedialog=a;b.litedialog=b.proxy(this.open,this);this.default_options={title:"",html:"",css:"",width:!1,height:!1,open:b.noop,close:b.noop,buttons:[{title:"Ok",click:a}]}},close:function(a){if(!this.dialog)return!1;if(b.isFunction(a))this.dialog.on("hidden.bs.modal",function(){setTimeout(function(){a()},20)});this.dialog.modal("hide")},
doclose:function(){this.dialog&&b.isFunction(this.options.close)&&this.options.close(this.dialog);this.removeOnclose&&this.remove()},remove:function(){if(!this.dialog)return!1;this.footer=this.options=!1;this.dialog.find(".tooltip-toggle, .tooltip-ready").tooltip("destroy");this.dialog.find(".popover-toggle, .popover-help").popover("destroy");this.dialog.remove();this.dialog=!1;this.style&&(this.style.remove(),this.style=!1)},addstyle:function(){var a=this.options,c=a.css;a.width&&(c=c+".modal-dialog{width:"+
(a.width+this.padwidth)+"px}");a.height&&(c=c+".modal-dialog{height:"+(a.height+this.padheight)+"px}");a.buttons.length||(c+=".modal-footer{display:none}");c&&(this.style=b('<style type="text/css">'+c+"</style>").appendTo("head:first"))},open:function(a){if(this.dialog)return alert("Dialog already opened");var c=litepubl.guid++;this.options=b.extend({},this.default_options,a);a=this.options.buttons;for(var e="",d=0,f=a.length;d<f;d++)var g=a[d],e=e+b.simpletml(this.button,{index:d,id:c,title:g.title,
icon:"icon"in g?g.icon:""});1==a.length&&(e=e.replace(/btn-default/g,"btn-primary"));c=b.simpletml(this.tml,{id:c,title:this.options.title,close:lang.dialog.close,body:this.options.html,buttons:e});this.addstyle();c=this.dialog=b(c).appendTo("body");this.footer=b(".modal-footer:first",c);d=0;for(f=a.length;d<f;d++)this.getbutton(d).on("click.dialog",a[d].click);return c.fixAndroid().on("shown.bs.modal.dialog",b.proxy(this.opened,this)).on("hidden.bs.modal.dialog",b.proxy(this.doclose,this)).modal()},
opened:function(){b.isFunction(this.options.open)&&this.options.open(this.dialog)},getbutton:function(a){return this.footer?this.footer.find("button[data-index="+a+"]"):!1},geticon:function(a){if(!a)return"";var b={info:"info-circle",success:"check",danger:"times-circle",error:"times-circle"};a in b&&(a=b[a]);return'<span class="fa fa-'+a+'"></span>'}});b.ready2(function(){"modal"in b.fn&&(b.bsdialog=new b.BootstrapDialog)})})(jQuery,window,document);
