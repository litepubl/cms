(function(c,h,k){c.fn.nextpaginator=function(h){var g=c.extend({page:0,count:1,perpage:10,url:k.location.toString(),pageurl:k.location.toString()},h);c(this).first().next().not(".paginated").paginator({pagesTotal:g.count,pagesSpan:g.perpage,pageCurrent:g.page-1,baseUrl:function(c){k.location=1==++c?g.url:g.pageurl+c+"/"}});c(this).first().remove();return this};c.fn.paginator=function(v){function g(a){var b=0;a||(a=k.event);a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b&&"function"==typeof handle&&
(handle(b),a.preventDefault&&a.preventDefault(),a.returnValue=!1)}function s(){c(b.scrollThumb).css({width:b.scrollThumb.widthPercent+"%"});b.scrollThumb.widthActual=c(b.scrollThumb).width();b.scrollThumb.widthActual<b.scrollThumb.widthMin&&c(b.scrollThumb).css("width",b.scrollThumb.widthMin+"px");b.scrollThumb.xPosMax=c(b.table).width-b.scrollThumb.widthActual}function l(){c(b.scrollThumb).css({left:b.scrollThumb.xPos+"px"})}function t(){c(b.pageCurrentMark).css({width:b.pageCurrentMark.widthPercent+
"%"});b.pageCurrentMark.widthActual=c(b.pageCurrentMark).width();b.pageCurrentMark.widthActual<b.pageCurrentMark.widthMin&&c(b.pageCurrentMark).css("width",b.pageCurrentMark.widthMin+"px")}function u(){var f=0,f=b.pageCurrentMark.widthActual<c(b.pageCurrentMark).width()?a.pageCurrent/a.pagesTotal*c(b.table).width()-c(b.pageCurrentMark).width()/2:a.pageCurrent/a.pagesTotal*c(b.table).width();0>f&&(f=0);f>c(b.scrollBar).width()-c(b.pageCurrentMark).width()&&(f=c(b.scrollBar).width()-c(b.pageCurrentMark).width());
a.returnOrder&&(f=c(b.table).width()-f-c(b.pageCurrentMark).width());c(b.pageCurrentMark).css({left:f+"px"})}function p(){c(".paginator").off("click.pagenator").on("click.pagenator",'a.page-number, a[rel!=""]',function(){var b=c(".paginator"),d=c(this);if(d.hasClass("page-number")){var e=1*d.text()-1;c("a.page-number",b).removeClass("paginator-current-page");d.addClass("paginator-current-page")}else e=parseInt(d.attr("rel"));if(isNaN(e)||e==a.pageCurrent)return!1;try{a.pageCurrent=e,c(".next-page",
b).attr("rel",e<parseInt(a.pagesTotal)-1?e+1:1*a.pagesTotal-1),c(".prev-page",b).attr("rel",0<e?e-1:0),a.baseUrl(e)}catch(m){alert("error "+m.message)}return!1})}function q(){var f=b.scrollThumb.xPos/c(b.table).width(),f=Math.round(f*a.pagesTotal),d="";0>f?(f=0,b.scrollThumb.xPos=0,l()):f>=a.pagesTotal-a.pagesSpan&&(f=a.pagesTotal-a.pagesSpan,b.scrollThumb.xPos=c(b.table).width()-c(b.scrollThumb).width(),l());c.isFunction(a.baseUrl);for(var e=1;e<=b.tdsPages.length;e++)d=f+e,d=1*d-1==a.pageCurrent?
'<span> <a href=#"" class="page-number paginator-current-page">'+d+"</a></span>":'<span> <a href="#" class="page-number">'+d+"</a></span>",c(b.tdsPages[e-1]).html(d);p(b.holder)}function r(){var f=b.scrollThumb.xPos/c(b.table).width(),f=a.pagesTotal-Math.round(f*a.pagesTotal),d="";f<a.pagesSpan?(f=a.pagesSpan,b.scrollThumb.xPos=c(b.table).width()-c(b.scrollThumb).width(),l()):f>=a.pagesTotal&&(f=a.pagesTotal,b.scrollThumb.xPos=0,l());c.isFunction(a.baseUrl);for(var e=1;e<=b.tdsPages.length;e++)d=
f-e,d=1*d-1==a.pageCurrent?'<span> <a href="#" class="page-number paginator-current-page">'+d+"</a></span>":'<span> <a href="#" class="page-number">'+d+"</a></span>",c(b.tdsPages[e-1]).html(d);p(b.holder)}function w(){h.onselectstart=function(){return!0}}function x(){h.onselectstart=function(){return!1};c(b.scrollThumb).focus()}function y(c){b.scrollThumb.xPos+=-5*c;l();a.returnOrder?r():q()}if(c(this).hasClass("paginated"))return this;c(this).addClass("paginated paginator");var a={pagesTotal:1,pagesSpan:10,
pageCurrent:0,baseUrl:c.noop,returnOrder:!1,lang:{next:lang.pagenator.next,last:lang.pagenator.last,prior:lang.pagenator.prior,first:lang.pagenator.first,arrowRight:String.fromCharCode(8594),arrowLeft:String.fromCharCode(8592)}};c.extend(a,v);a.pagesSpan=a.pagesSpan<a.pagesTotal?a.pagesSpan:a.pagesTotal;a.pageCurrent=a.pagesTotal<a.pageCurrent?a.pagesTotal:a.pageCurrent;c.isFunction(a.baseUrl)||a.baseUrl.match(/%page%/i)||(a.baseUrl+="%page%");var b={table:null,trPages:null,trScrollBar:null,tdsPages:null,
scrollBar:null,scrollThumb:null,pageCurrentMark:null,holder:this};c(b.holder).html(function(){var b=100/(a.pagesSpan+2)+"%",d=c.isFunction(a.baseUrl),e=parseInt(a.pageCurrent)<parseInt(a.pagesTotal)-1?parseInt(a.pageCurrent)+1:1*a.pagesTotal-1,m;m='<a class="next-page" href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,e));m+='" rel="'+e+'">%next%</a>';var e='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,1*a.pagesTotal-1)),e=e+('" rel="'+(1*a.pagesTotal-1)+'">%last%</a>'),
n=0<parseInt(a.pageCurrent)?parseInt(a.pageCurrent)-1:0,h;h='<a class="prev-page" href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,n));h+='" rel="'+n+'">%prior%</a>';var k;k='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,0));k+='" rel="0">%first%</a>';if(a.returnOrder){var g=a.lang.arrowLeft+" "+a.lang.next,d=a.lang.last,n=a.lang.prior+" "+a.lang.arrowRight,l=a.lang.first;a.pageCurrent<a.pagesTotal-1&&(g=m.replace(/%next%/,g),d=e.replace(/%last%/,d));0<a.pageCurrent&&(n=
h.replace(/%prior%/,n),l=k.replace(/%first%/,l))}else l=a.lang.last,n=a.lang.next+" "+a.lang.arrowRight,g=a.lang.arrowLeft+" "+a.lang.prior,d=a.lang.first,a.pageCurrent<a.pagesTotal-1&&(n=m.replace(/%next%/,n),l=e.replace(/%last%/,l)),0<a.pageCurrent&&(g=h.replace(/%prior%/,g),d=k.replace(/%first%/,d));m='<table width="100%"><tr><td class="left top">'+g+'</td><td class="spaser"></td><td rowspan="2" align="center"><table><tr>';for(e=1;e<=a.pagesSpan;e++)m+='<td width="'+b+'"></td>';return m+='</tr><tr><td colspan="'+
a.pagesSpan+'"><div class="scroll_bar"><div class="scroll_trough"></div><div class="scroll_thumb"><div class="scroll_knob"></div></div><div class="current_page_mark"></div></div></td></tr></table></td><td class="spaser"></td><td class="right top">'+n+'</td></tr><tr><td class="left bottom">'+d+'</td><td class="spaser"></td><td class="spaser"></td><td class="right bottom">'+l+"</td></tr></table>"}());b.table=c(b.holder).find("table:last");b.trPages=c(b.table).find("tr:first");b.tdsPages=c(b.trPages).find("td");
b.scrollBar=c(b.holder).find("div.scroll_bar");b.scrollThumb=c(b.holder).find("div.scroll_thumb");b.pageCurrentMark=c(b.holder).find("div.current_page_mark");a.pagesTotal==a.pagesSpan&&c(b.holder).addClass("fulsize");b.scrollThumb.widthMin="8";b.scrollThumb.widthPercent=a.pagesSpan/a.pagesTotal*100;b.scrollThumb.xPosPageCurrent=(a.pageCurrent+1-Math.round(a.pagesSpan/2))/a.pagesTotal*c(b.table).width();a.returnOrder&&(b.scrollThumb.xPosPageCurrent=c(b.table).width()-(b.scrollThumb.xPosPageCurrent+
Math.round(a.pagesSpan/2)/a.pagesTotal*c(b.table).width()));b.scrollThumb.xPos=b.scrollThumb.xPosPageCurrent;b.scrollThumb.xPosMin=0;b.scrollThumb.xPosMax;b.scrollThumb.widthActual;s();b.pageCurrentMark.widthMin="3";b.pageCurrentMark.widthPercent=100/a.pagesTotal;b.pageCurrentMark.widthActual;t();u();(function(){l();a.returnOrder?r():q();c(b.scrollThumb).bind("mousedown",function(f){var d=f.pageX-b.scrollThumb.xPos;c(h).bind("mousemove",function(c){b.scrollThumb.xPos=c.pageX-d;l();a.returnOrder?r():
q()});c(h).bind("mouseup",function(){c(h).unbind("mousemove");w()});x()});c.isFunction(a.baseUrl)&&p(b.holder);c(k).resize(function(){t();u();s()})})();k.addEventListener&&k.addEventListener("DOMMouseScroll",g,!1);k.onmousewheel=h.onmousewheel=g;c(this).mouseover(function(){handle=y}).mouseout(function(){handle=null})}})(jQuery,document,window);
